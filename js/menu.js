const carte = [
  {
    calories: 1500,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 1700,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 2000,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 2200,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 2500,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 3000,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 3200,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 3500,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 1500,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 2200,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 3500,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 3200,
    veggi: true,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 1500,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 2000,
    veggi: false,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
  {
    calories: 1500,
    veggi: true,
    icon: "",
    img: "src/img/index/slider/Salade_printanière.jpg",
    title: `Menu 1500 calories Lundi`,
    breakfast: `Bol de chicorée au lait avec 2 tranches de pain de campagne beurrées, Fruits de saison`,
    lunch: `Boeuf et coquillettes au fromag<br>
    Dessert : Clafoutis aux cerises `,
    dinner: `Oeufs au plat et Haricots verts mange-tout<br>
    Fromage : Cantal<br>
    Dessert : Fraises au vin<br>`,
  },
 
]
//__________________________________________________________

const carteList = document.querySelector('#carte-list')
const selectFilter = document.querySelector('#filter-select') 
let rightMenu = +document.location.search.slice(1)
let filterValue = ''

if (rightMenu && (rightMenu >= 1300) && (rightMenu <= 3500)) {
  while(true) {
    if (carte.some(item => item.calories === rightMenu)) {
      filterValue = rightMenu
      
      selectFilter.value = filterValue
      break
    } else {
      rightMenu += 100
    }
  }
}

showMenu(filterValue)

selectFilter.addEventListener('change', () => {
  showMenu(+selectFilter.value)
  console.log(typeof selectFilter.value);
})

function showMenu(filter) {
  carteList.innerHTML = ''
  if (!filter) {
      carte.forEach(item => createElement(item))
  } else {
    let listFiltred = carte.filter(item => filter===item.calories)
    listFiltred.forEach(item => createElement(item))
  }

}


function createElement(item) {
  const element = `<article class="carte__item col-12 col-md-3" data-menu="${item.calories}">
        <figure class="carte__item_head">
          <img src="${item.img}" class="carte__img" alt="${item.title}">
          <figcaption class="carte__item_text "><h2 class="carte__item_title">${item.title}</h2><span class="carte__item_text-icon"></span></figcaption>
      </figure>
      <div class="carte__item_description">
        <h3 class="carte__item_subtitle">Petit Déjeuner:</h3>
        <p class="carte__item_subtext">${item.breakfast}</p>
        <h3 class="carte__item_subtitle">Déjeuner:</h3>
        <p class="carte__item_subtext">${item.lunch}</p>
        <h3 class="carte__item_subtitle">Diner:</h3>
        <p class="carte__item_subtext">${item.dinner}</p>
      </div> 
      </article>`
  carteList.insertAdjacentHTML('beforeend', element)
}